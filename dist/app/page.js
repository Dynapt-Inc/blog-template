import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import Link from "next/link";
import Header from "../components/Header";
import Hero from "../components/Hero";
import Footer from "../components/Footer";
import PostCard from "../components/PostCard";
import { loadPosts, loadSite } from "../lib/content";
export const dynamic = "force-dynamic";
export const revalidate = 0;
export default async function Home() {
    const siteData = loadSite();
    const postsData = await loadPosts();
    const latestPosts = [...postsData].sort((a, b) => {
        const tb = b.publishedAt ? new Date(b.publishedAt).getTime() : 0;
        const ta = a.publishedAt ? new Date(a.publishedAt).getTime() : 0;
        return tb - ta;
    });
    const featuredPost = latestPosts[0];
    const recentPosts = latestPosts.slice(1, 7);
    const categories = [
        ...new Set(postsData
            .map((post) => post.category)
            .filter((category) => Boolean(category))),
    ];
    return (_jsxs("main", { className: "min-h-screen bg-[color:var(--background)] text-[color:var(--foreground)]", children: [_jsx(Header, { siteName: siteData.siteName, logoUrl: siteData.logoUrl }), _jsx(Hero, { title: siteData.heroTitle, subtitle: siteData.heroSubtitle, imageUrl: siteData.heroImageUrl }), featuredPost && (_jsx("section", { id: "featured", className: "py-16 bg-muted/30", children: _jsxs("div", { className: "mx-auto max-w-7xl px-4 sm:px-6 lg:px-8", children: [_jsxs("div", { className: "text-center mb-12", children: [_jsx("h2", { className: "heading-2 mb-4", children: "Featured Article" }), _jsx("p", { className: "body-large text-muted-foreground max-w-2xl mx-auto", children: "Dive into our latest and most engaging content" })] }), _jsx("div", { className: "max-w-4xl mx-auto", children: _jsx(PostCard, { post: featuredPost, variant: "horizontal" }) })] }) })), _jsx("section", { className: "py-16", children: _jsxs("div", { className: "mx-auto max-w-7xl px-4 sm:px-6 lg:px-8", children: [_jsxs("div", { className: "flex items-center justify-between mb-12", children: [_jsxs("div", { children: [_jsx("h2", { className: "heading-2 mb-4", children: "Latest Articles" }), _jsx("p", { className: "body-large text-muted-foreground", children: "Stay updated with our newest insights and stories" })] }), postsData.length > 6 && (_jsxs(Link, { href: "/posts", className: "btn btn-ghost btn-md group hidden sm:inline-flex", children: [_jsx("span", { children: "View All" }), _jsx("svg", { className: "w-4 h-4 ml-2 transition-transform group-hover:translate-x-1", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: _jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M17 8l4 4m0 0l-4 4m4-4H3" }) })] }))] }), _jsx("div", { className: "grid gap-8 md:grid-cols-2 lg:grid-cols-3", children: recentPosts.map((post, index) => (_jsx("div", { className: "animate-fadeInUp", style: { animationDelay: `${index * 0.1}s` }, children: _jsx(PostCard, { post: post }) }, post.slug))) }), postsData.length > 6 && (_jsx("div", { className: "text-center mt-12", children: _jsxs(Link, { href: "/posts", className: "btn btn-primary btn-lg group sm:hidden", children: [_jsx("span", { children: "View All Articles" }), _jsx("svg", { className: "w-5 h-5 ml-2 transition-transform group-hover:translate-x-1", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: _jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M17 8l4 4m0 0l-4 4m4-4H3" }) })] }) }))] }) }), categories.length > 0 && (_jsx("section", { className: "py-16 bg-muted/30", children: _jsxs("div", { className: "mx-auto max-w-7xl px-4 sm:px-6 lg:px-8", children: [_jsxs("div", { className: "text-center mb-12", children: [_jsx("h2", { className: "heading-2 mb-4", children: "Explore by Category" }), _jsx("p", { className: "body-large text-muted-foreground max-w-2xl mx-auto", children: "Discover content tailored to your interests" })] }), _jsx("div", { className: "flex flex-wrap justify-center gap-4", children: categories.map((category) => {
                                const categoryPosts = postsData.filter((post) => post.category === category);
                                return (_jsxs("a", { href: `/posts?category=${encodeURIComponent(category)}`, className: "group inline-flex items-center gap-2 px-6 py-3 rounded-full border border-theme bg-card hover:border-primary hover:bg-primary/5 transition-all duration-200", children: [_jsx("span", { className: "font-medium", children: category }), _jsx("span", { className: "text-sm text-muted-foreground bg-muted px-2 py-0.5 rounded-full", children: categoryPosts.length })] }, category));
                            }) })] }) })), _jsx("section", { className: "py-16 bg-gradient-to-r from-primary to-secondary", children: _jsxs("div", { className: "mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 text-center", children: [_jsx("h2", { className: "heading-2 text-white mb-4", children: "Stay Updated" }), _jsx("p", { className: "body-large text-white/90 mb-8 max-w-2xl mx-auto", children: "Get the latest articles and insights delivered straight to your inbox. Join our community of readers who stay ahead of the curve." }), _jsxs("div", { className: "flex flex-col sm:flex-row gap-4 max-w-md mx-auto", children: [_jsx("input", { type: "email", placeholder: "Enter your email", className: "flex-1 px-4 py-3 rounded-lg border-0 bg-white/20 backdrop-blur-sm text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50" }), _jsx("button", { className: "btn bg-white text-primary hover:bg-white/90 btn-md font-semibold", children: "Subscribe" })] }), _jsx("p", { className: "text-white/70 text-sm mt-4", children: "No spam, unsubscribe at any time" })] }) }), _jsx(Footer, { siteName: siteData.siteName })] }));
}
